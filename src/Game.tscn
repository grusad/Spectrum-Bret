[gd_scene load_steps=12 format=2]

[ext_resource path="res://src/MusicManager.tscn" type="PackedScene" id=1]
[ext_resource path="res://src/obsticles/GroundBars.tscn" type="PackedScene" id=2]
[ext_resource path="res://src/Game.gd" type="Script" id=3]
[ext_resource path="res://src/entities/Player.tscn" type="PackedScene" id=4]
[ext_resource path="res://src/level/DynamicMapLine.tscn" type="PackedScene" id=5]
[ext_resource path="res://src/level/MapLine.tscn" type="PackedScene" id=6]
[ext_resource path="res://src/obsticles/RoundBars.tscn" type="PackedScene" id=7]
[ext_resource path="res://icon.png" type="Texture" id=8]

[sub_resource type="Environment" id=1]
background_mode = 4
glow_enabled = true
glow_intensity = 2.58
glow_strength = 1.04
glow_bloom = 0.15
glow_blend_mode = 1
glow_bicubic_upscale = true

[sub_resource type="Shader" id=2]
code = "shader_type canvas_item;

uniform vec2 scale = vec2(10.0);

float rand(vec2 coord) {
	return fract(sin(dot(coord, vec2(12.9898, 78.233))) * 43758.5453);
}

void fragment() {
	vec2 coord = UV * scale;
	
	float value = rand(coord);
	
	COLOR = vec4(vec3(value), 1.0);
}"

[sub_resource type="ShaderMaterial" id=3]
shader = SubResource( 2 )
shader_param/scale = Vector2( 10, 10 )

[node name="Game" type="Node2D"]
script = ExtResource( 3 )

[node name="MasterMusic" parent="." instance=ExtResource( 1 )]

[node name="Player" parent="." instance=ExtResource( 4 )]
position = Vector2( 1176, -272 )
collision_mask = 2147483649

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 1 )

[node name="Obsticles" type="Node2D" parent="."]

[node name="GroundBars" parent="Obsticles" instance=ExtResource( 2 )]
position = Vector2( 302, 96 )
colors = PoolColorArray( 0.854902, 0.372549, 0.498039, 1, 0.490196, 0.101961, 0.203922, 1 )

[node name="GroundBars2" parent="Obsticles" instance=ExtResource( 2 )]
position = Vector2( 128, -352 )
rotation = 3.14159
colors = PoolColorArray( 0.854902, 0.372549, 0.498039, 1, 0.490196, 0.101961, 0.203922, 1 )

[node name="RoundBars" parent="Obsticles" instance=ExtResource( 7 )]
position = Vector2( 920, -114.5 )
bar_width = 2
colors = PoolColorArray( 0.854902, 0.372549, 0.498039, 1, 0.854902, 0.372549, 0.498039, 1 )

[node name="Map" type="Node2D" parent="."]

[node name="MapLine" parent="Map" instance=ExtResource( 6 )]
position = Vector2( 16, 0 )
points = PoolVector2Array( -728, 0, 280, 0, 280, 192, 600, 192, 600, 0, 1024, 0, 1024, -192, 1536, -192 )

[node name="MapLine2" parent="Map" instance=ExtResource( 6 )]
points = PoolVector2Array( -704, -256, -192, -256, -192, -448, 128, -448, 128, -256, 832, -256, 832, -576, 576, -576, 576, -704, 320, -704 )

[node name="MapLineToggle" parent="Map" instance=ExtResource( 5 )]
position = Vector2( 1680, -312 )
points = PoolVector2Array( -48, 0, 16, 0 )
default_color = Color( 0.192157, 0.596078, 0.94902, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2
histogram_index = 4

[node name="MapLineToggle2" parent="Map" instance=ExtResource( 5 )]
position = Vector2( 1840, -384 )
points = PoolVector2Array( -48, 0, 16, 0 )
default_color = Color( 0.192157, 0.596078, 0.94902, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2
histogram_index = 7

[node name="MapLineToggle3" parent="Map" instance=ExtResource( 5 )]
position = Vector2( 2000, -440 )
points = PoolVector2Array( -48, 0, 16, 0 )
default_color = Color( 0.192157, 0.596078, 0.94902, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2
histogram_index = 10

[node name="Sprite" type="Sprite" parent="Map"]
material = SubResource( 3 )
position = Vector2( -56, -128 )
scale = Vector2( 0.650451, 0.715566 )
texture = ExtResource( 8 )
